require(quadprog)

Dmat <- matrix(0,6,6)
diag(Dmat) <- 2
dvec <- c(-10,-10,-30,-20,-30,-20)
Amat <- matrix(c(1,0,0,0,0,0, -1,0,0,0,0,0, 0,1,1,1,0,0, 0,-1,-1,-1,0,0, 0,0,0,0,1,1, 0,0,0,0,-1,-1, -1,-1,0,0,0,0, 0,0,-1,0,-1,0, 0,0,0,-1,0,-1, 1,0,0,0,0,0, 0,1,0,0,0,0, 0,0,1,0,0,0, 0,0,0,1,0,0, 0,0,0,0,1,0, 0,0,0,0,0,1), 6,15)
bvec <- c(3.999,-4.001,4.999,-5.001,0.999,-1.001,-7.001,-1.001,-2.001,-0.001,-0.001,-0.001,-0.001,-0.001,-0.001)

solve.QP(Dmat,dvec,Amat,bvec)

# $solution
# [1] 3.999 3.002 0.747 1.250 0.248 0.751
#
# $value
# [1] 167.63
#
# $unconstrained.solution
# [1]  -5  -5 -15 -10 -15 -10
#
# $iterations
# [1] 8 2
#
# $Lagrangian
#  [1] 33.488  0.000 31.494  0.000 30.496  0.000 15.490  0.000  8.994  0.000
# [11]  0.000  0.000  0.000  0.000  0.000
#
# $iact
# [1] 3 5 1 7 9
