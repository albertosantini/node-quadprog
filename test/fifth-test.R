require(quadprog)

Dmat <- matrix(0,6,6)
diag(Dmat) <- 2
dvec <- c(-10,-10,-30,-20,-30,-20)
Amat <- matrix(c(1,0,0,0,0,0, 0,1,1,1,0,0, 0,0,0,0,1,1, -1,-1,0,0,0,0, 0,0,-1,0,-1,0, 0,0,0,-1,0,-1, 1,0,0,0,0,0, 0,1,0,0,0,0, 0,0,1,0,0,0, 0,0,0,1,0,0, 0,0,0,0,1,0, 0,0,0,0,0,1), 6,12)
bvec <- c(4,5,1,-7.001,-1.001,-2.001,0,0,0,0,0,0)

solve.QP(Dmat,dvec,Amat,bvec,3)

# $solution
# [1] 4.00000 3.00100 0.74875 1.25025 0.24925 0.75075
#
# $value
# [1] 167.7255
#
# $unconstrained.solution
# [1]  -5  -5 -15 -10 -15 -10
#
# $iterations
# [1] 8 2
#
# $Lagrangian
#  [1] 33.4955 31.4975 30.4985 15.4955  0.0000  8.9970  0.0000  0.0000  0.0000
# [10]  0.0000  0.0000  0.0000
#
# $iact
# [1] 2 3 1 4 6
